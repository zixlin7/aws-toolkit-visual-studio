<UserControl
    x:Class="Amazon.AWSToolkit.CommonUI.CredentialProfiles.CredentialProfileForm"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Amazon.AWSToolkit.CommonUI.CredentialProfiles"
    mc:Ignorable="d">
    <StackPanel>
        <TextBlock
            Text="Profile Type" />
        <ComboBox
            x:Name="SelectedCredentialTypeComboBox"
            x:FieldModifier="private"
            DisplayMemberPath="Key"
            ItemsSource="{Binding CredentialTypes}"
            SelectedValuePath="Value"
            SelectedValue="{Binding SelectedCredentialType}" />
        <ContentControl
            Content="{Binding SelectedItem.Header, ElementName=SubformContentControl}" />
        <TextBlock
            Text="Profile Name" />
        <TextBox
            Text="{Binding ProfileProperties.Name}" />
        <TabControl
            x:Name="SubformContentControl"
            x:FieldModifier="private"
            Background="Transparent"
            BorderThickness="0"
            SelectedValue="{Binding SelectedValue, ElementName=SelectedCredentialTypeComboBox}"
            SelectedValuePath="CredentialType">
            <TabControl.ItemContainerStyle>
                <Style
                    TargetType="{x:Type TabItem}">
                    <Setter
                        Property="Visibility"
                        Value="Collapsed" />
                </Style>
            </TabControl.ItemContainerStyle>
            <TabControl.Items>
                <local:SsoProfileSubform />
                <local:StaticProfileSubform />
            </TabControl.Items>
        </TabControl>
        <Expander
            Header="Storage Location">
            <StackPanel>
                <ComboBox
                    DisplayMemberPath="Key"
                    ItemsSource="{Binding CredentialFileTypes}"
                    SelectedValuePath="Value"
                    SelectedValue="{Binding SelectedCredentialFileType}" />
                <!-- TODO IDE-10912 Pending discussion with Jo about whether this should be hidden for encrypted file -->
                <TextBlock>
                    <Hyperlink
                        Command="{Binding OpenCredentialFileCommand}">
                        Edit credentials file directly...
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </Expander>
        <Expander
            Header="Profile Region">
            <local:RegionSelector
                DataContext="{Binding ProfileRegionSelectorViewModel}" />
        </Expander>
        <ContentControl
            Content="{Binding SelectedItem.Footer, ElementName=SubformContentControl}" />
        <Button
            HorizontalAlignment="Right"
            Content="Add"
            Command="{Binding SaveCommand}" />
    </StackPanel>
</UserControl>
