<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:themes="clr-namespace:Amazon.AWSToolkit.Themes">
    
    <ControlTemplate x:Key="ValidationErrorTemplate">
        <StackPanel Orientation="Vertical">

            <Grid Width="{Binding ElementName=AdornedElement, Path=ActualWidth}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Place Border and adorned element in the same grid cells.
                Placing the adorned element within the border causes the border to get clipped on the left. -->
                <Border
                    Grid.Row="0" Grid.Column="0"
                    BorderBrush="{DynamicResource {x:Static themes:ToolkitThemes.ErrorBorderBrushKey}}"
                    BorderThickness="1" />
                <AdornedElementPlaceholder
                    Grid.Row="0" Grid.Column="0"
                    Name="AdornedElement" />
            </Grid>

            <Grid Width="{Binding ElementName=AdornedElement, Path=ActualWidth}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Border
                    Grid.Row="0" Grid.Column="0"
                    BorderBrush="{DynamicResource {x:Static themes:ToolkitThemes.ToolTipBorderBrushKey}}"
                    BorderThickness="1"
                    Background="{DynamicResource {x:Static themes:ToolkitThemes.ToolTipBackgroundBrushKey}}" />

                <TextBlock
                    Grid.Row="0" Grid.Column="0"
                    Margin="9"
                    TextWrapping="Wrap"
                    Foreground="{DynamicResource {x:Static themes:ToolkitThemes.ToolTipTextBrushKey}}"
                    Text="{Binding /ErrorContent}" />
            </Grid>
        </StackPanel>
    </ControlTemplate>
</ResourceDictionary>
