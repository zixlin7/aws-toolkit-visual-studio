<commonui:BaseAWSUserControl x:Class="Amazon.AWSToolkit.ElasticBeanstalk.View.Components.ApplicationVersions"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:commonui="clr-namespace:Amazon.AWSToolkit.CommonUI;assembly=AWSToolkit"
    Height="auto" Width="auto">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/AWSToolkit;component/Themes/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>

        <ToolBar Grid.Column="0" Grid.Row="0" ToolBarTray.IsLocked="True" >
            <Button Click="onDeployVersion" Name="_ctlDeploy">
                <Button.Content>
                    <WrapPanel>
                        <Image Width="16" Height="16" Source="..\..\Resources\Images\publish.png"/>
                        <TextBlock>Publish Version</TextBlock>
                    </WrapPanel>
                </Button.Content>
            </Button>
            <Button Click="onDeleteVersion" Name="_ctlDelete">
                <Button.Content>
                    <WrapPanel>
                        <Image Width="16" Height="16" DataContext="{DynamicResource CommonIcons}" Source="{Binding RemoveIcon}"/>
                        <TextBlock>Delete Version</TextBlock>
                    </WrapPanel>
                </Button.Content>
            </Button>
        </ToolBar>

        <commonui:ToolkitDataGridWrapper Grid.Row="1" ItemsSource="{Binding Versions}" AutoGenerateColumns="False" Name="_ctlDataGrid"
                 CanUserAddRows="False" CanUserDeleteRows="False" DockPanel.Dock="Top"  CellStyle="{DynamicResource awsDataGridCellCentering}"
                 SelectionMode="Extended"
                 ContextMenuOpening="onGridContextMenu"
                 HorizontalAlignment="Stretch" HeadersVisibility="Column">
            <commonui:ToolkitDataGridWrapper.Columns>

                <DataGridTextColumn Header="Version Label" Binding="{Binding VersionLabel, Mode=OneWay}" Width="auto"/>
                <DataGridTextColumn Header="Description" Binding="{Binding Description, Mode=OneWay}" Width="auto"/>
                <DataGridTextColumn Header="Created On" Binding="{Binding DateCreated, Mode=OneWay}" Width="auto"/>
                <DataGridTextColumn Header="S3 Bucket" Binding="{Binding S3Bucket, Mode=OneWay}" Width="auto"/>
                <DataGridTextColumn Header="S3 Key" Binding="{Binding S3Key, Mode=OneWay}" Width="auto"/>

            </commonui:ToolkitDataGridWrapper.Columns>
        </commonui:ToolkitDataGridWrapper>
    </Grid>
</commonui:BaseAWSUserControl>
