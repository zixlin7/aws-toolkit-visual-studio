<commonUi:BaseAWSUserControl x:Class="Amazon.AWSToolkit.ECS.WizardPages.PageUI.ECSConfigurationPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:local="clr-namespace:Amazon.AWSToolkit.ECS.WizardPages.PageUI"
    xmlns:commonUi="clr-namespace:Amazon.AWSToolkit.CommonUI;assembly=AWSToolkit"
    mc:Ignorable="d" 
    d:DesignHeight="400"
    d:DesignWidth="600">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!--  a/c picker  -->
            <RowDefinition Height="Auto" />
            <!--  runtime selector  -->
            <RowDefinition Height="Auto" />
            <!--  function source  -->
            <RowDefinition Height="Auto" />
            <!--  function details, switchable  -->
            <RowDefinition Height="Auto" />
            <!--  open view on upload  -->
            <RowDefinition Height="Auto" />
            <!--  persist settings  -->
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Label
                Grid.Row="0"
                Margin="0,12,0,-12"
                Style="{DynamicResource awsWizardGroupSubHeaderStyle}" >
                Task Definition Setup
            </Label>

            <Grid
                Grid.Row="1"
                >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="130" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                </Grid.RowDefinitions>

                <Label
                    Grid.Row="0"
                    Grid.Column="0"
                    Margin="10,2,4,2"
                    VerticalAlignment="Center"
                    Style="{DynamicResource awsLabelBaseStyle}">
                    _Task Definition:
                </Label>


                <ComboBox
                    Name="_ctlTaskDefinitionPicker"
                    Grid.Row="0"
                    Grid.Column="1"
                    Margin="16,2,4,2"
                    SelectedIndex="0"
                    SelectedItem="{Binding TaskDefinition, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    Style="{DynamicResource awsComboBoxStyle}" />

                <Label
                    Grid.Row="0"
                    Grid.Column="2"
                    Margin="10,2,4,2"
                    VerticalAlignment="Center"
                    Style="{DynamicResource awsLabelBaseStyle}">
                    _Container:
                </Label>


                <ComboBox
                    Name="_ctlContainerPicker"
                    Grid.Row="0"
                    Grid.Column="3"
                    Margin="16,2,4,2"
                    SelectedIndex="0"
                    SelectedItem="{Binding Container, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    Style="{DynamicResource awsComboBoxStyle}" />


                <Label
                    Grid.Row="1"
                    Grid.Column="0"
                    Margin="10,2,4,2"
                    VerticalAlignment="Center"
                    Style="{DynamicResource awsLabelBaseStyle}">
                    _Memory Limits (MiB):
                </Label>
                
                <TextBox
                    Name="_ctlMemorySoftLimit"
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="16,2,4,2"
                    Style="{DynamicResource awsTextBoxStyle}"
                    Text="{Binding MemorySoftLimit, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    />

                <Label
                    Grid.Row="1"
                    Grid.Column="2"
                    Margin="-7,2,4,2"
                    VerticalAlignment="Center"
                    Style="{DynamicResource awsLabelBaseStyle}">
                    Soft Lmit
                </Label>

                <TextBox
                    Name="_ctlMemoryHardLimit"
                    Grid.Row="2"
                    Grid.Column="1"
                    Margin="16,2,4,2"
                    Style="{DynamicResource awsTextBoxStyle}"
                    Text="{Binding MemoryHardLimit, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    />

                <Label
                    Grid.Row="2"
                    Grid.Column="2"
                    Margin="-7,2,4,2"
                    VerticalAlignment="Center"
                    Style="{DynamicResource awsLabelBaseStyle}">
                    Hard Lmit
                </Label>

                <TextBlock
                    Grid.Row="3"
                    Grid.Column="1"
                    Grid.ColumnSpan="3"
                    Margin="16,2,4,0"
                    FontStyle="Italic"
                    Style="{DynamicResource awsFieldHintTextStyle}"
                    TextWrapping="Wrap">
                    You must specify a non-zero integer for one or both of hard limit or soft limit. The hard limit is the most
                    memory the app will be able to exceed. The soft limit is the minimum memory the app needs to run but can 
                    consume more, up to the hard limit, if memory is available.
                    
                    ECS recommends 300-500 MiB as a starting point for web applications.
                </TextBlock>

            </Grid>
        </Grid>
    </Grid>
</commonUi:BaseAWSUserControl>
