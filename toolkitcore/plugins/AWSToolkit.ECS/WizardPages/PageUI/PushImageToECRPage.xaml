<commonUi:BaseAWSUserControl x:Class="Amazon.AWSToolkit.ECS.WizardPages.PageUI.PushImageToECRPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:local="clr-namespace:Amazon.AWSToolkit.ECS.WizardPages.PageUI"
    xmlns:commonUi="clr-namespace:Amazon.AWSToolkit.CommonUI;assembly=AWSToolkit"
    xmlns:commoncomponents="clr-namespace:Amazon.AWSToolkit.CommonUI.Components;assembly=AWSToolkit"
    d:DesignHeight="400"
    d:DesignWidth="600"
    mc:Ignorable="d">
    
    


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!--  a/c picker  -->
            <RowDefinition Height="Auto" />
            <!--  runtime selector  -->
            <RowDefinition Height="Auto" />
            <!--  function source  -->
            <RowDefinition Height="Auto" />
            <!--  function details, switchable  -->
            <RowDefinition Height="Auto" />
            <!--  open view on upload  -->
            <RowDefinition Height="Auto" />
            <!--  persist settings  -->
        </Grid.RowDefinitions>

        <Grid x:Name="_ctlAccountPanel" Grid.Row="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Label
                Grid.Row="0"
                Margin="0"
                Style="{DynamicResource awsWizardGroupSubHeaderStyle}">
                Profile
            </Label>

            <commoncomponents:AccountAndRegionPicker
                Name="_ctlAccountAndRegion"
                Grid.Row="1"
                Margin="8,2,4,2" />

        </Grid>

        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Label
                Grid.Row="0"
                Margin="0"
                Style="{DynamicResource awsWizardGroupSubHeaderStyle}">
                Docker Image Build
            </Label>

            <Grid
                Grid.Row="1"
                Grid.ColumnSpan="2"
                Visibility="Visible">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="130" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                </Grid.RowDefinitions>

                <Label
                    Grid.Row="0"
                    Grid.Column="0"
                    Margin="10,2,4,2"
                    VerticalAlignment="Center"
                    Style="{DynamicResource awsLabelBaseStyle}">
                    _Configuration:
                </Label>


                <ComboBox
                    Name="_ctlConfigurationPicker"
                    Grid.Row="0"
                    Grid.Column="1"
                    Margin="16,2,4,2"
                    SelectedIndex="0"
                    SelectedItem="{Binding Configuration, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    Style="{DynamicResource awsComboBoxStyle}" />

                <Label
                    Grid.Row="1"
                    Grid.Column="0"
                    Margin="10,2,4,2"
                    VerticalAlignment="Center"
                    Style="{DynamicResource awsLabelBaseStyle}">
                    Docker Repository:
                </Label>

                <ComboBox
                    Name="_ctlDockerRepositoryPicker"
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="16,2,4,2"
                    IsEditable="True"
                    SelectedIndex="0"
                    SelectionChanged="_ctlDockerRepositoryPicker_SelectionChanged"
                    Style="{DynamicResource awsComboBoxStyle}"
                    TextBoxBase.TextChanged="_ctlDockerRepositoryPicker_TextChanged" />

                <Label
                    Grid.Row="1"
                    Grid.Column="2"
                    Margin="10,2,4,2"
                    VerticalAlignment="Center"
                    Style="{DynamicResource awsLabelBaseStyle}">
                    _Tag:
                </Label>

                <ComboBox
                    Name="_ctlDockerTagPicker"
                    Grid.Row="1"
                    Grid.Column="3"
                    Margin="16,2,4,2"
                    IsEditable="True"
                    SelectedIndex="0"
                    SelectionChanged="_ctlDockerTagPicker_SelectionChanged"
                    Style="{DynamicResource awsComboBoxStyle}"
                    TextBoxBase.TextChanged="_ctlDockerTagPicker_TextChanged" />

            </Grid>

            <Grid Grid.Row="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Label
                Grid.Row="0"
                Margin="0, 15,0,0"
                Style="{DynamicResource awsWizardGroupSubHeaderStyle}">
                    Deployment Target
                </Label>

                <ComboBox
                    Name="_ctlDeploymentOptionPicker"
                    Grid.Row="1"
                    Grid.Column="0"
                    Margin="16,2,4,2"
                    SelectedIndex="0"
                    SelectionChanged="_ctlDeploymentOptionPicker_SelectionChanged"
                    Style="{DynamicResource awsComboBoxStyle}">


                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <Grid HorizontalAlignment="Stretch">
                                <Border
                                    HorizontalAlignment="Stretch"
                                    Padding="2"
                                    Background="{DynamicResource awsListBoxPanelItemBackgroundBrushKey}"
                                    BorderBrush="{DynamicResource awsListBoxPanelItemBackgroundBrushKey}"
                                    BorderThickness="2"
                                    CornerRadius="4"
                                    >
                                    <Grid HorizontalAlignment="Stretch">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="760"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Row="0" Grid.Column="0" Margin="3" Text="{Binding Title}" Style="{DynamicResource awsTextBlock155PercentStyle}" />
                                        <TextBlock Grid.Row="1" Grid.Column="0" Margin="3" TextWrapping="Wrap" Text="{Binding InfoText}" Style="{DynamicResource awsInfoTextStyle}"/>
                                    </Grid>
                                </Border>
                            </Grid>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                    
                </ComboBox>

            </Grid>
        </Grid>

        <Grid Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <CheckBox
                Grid.Row="0"
                Name="_ctlPersistSettings"
                Margin="18,30,4,4"
                IsChecked="True"
                Style="{DynamicResource awsCheckboxButtonBaseStyle}">
                Save settings to aws-ecs-tools-defaults.json and configure project for command line deployment.
            </CheckBox>
            <TextBlock
                    Grid.Row="1"
                    Margin="16,2,4,0"
                    FontStyle="Italic"
                    Style="{DynamicResource awsInfoTextStyle}"
                    TextWrapping="Wrap">
                If this is checked the dotnet CLI tool package Amazon.ECS.Tools will be added to the project. Once
                added you can do future deployments from the command line. Run the command "dotnet ecs --help" for more information.
            </TextBlock>
        </Grid>
    </Grid>
</commonUi:BaseAWSUserControl>
