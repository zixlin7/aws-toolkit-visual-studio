<commonui:BaseAWSUserControl x:Class="Amazon.AWSToolkit.RDS.WizardPages.PageUI.LaunchDBInstanceDetailsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:commonui="clr-namespace:Amazon.AWSToolkit.CommonUI;assembly=AWSToolkit"
    xmlns:toolkitcomponents="clr-namespace:Amazon.AWSToolkit.CommonUI.Components;assembly=AWSToolkit"
    >
    
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/AWSToolkit;component/Themes/DefaultTheme.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    
    <Grid Margin="4">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Label Style="{DynamicResource awsWizardGroupHeaderStyle}"
                   Margin="0"
                   >
                DB Instance Engine and Class
            </Label>
            <Grid Grid.Row="1" Margin="16,4,4,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="112" />
                </Grid.ColumnDefinitions>

                <Label Style="{DynamicResource awsLabelBaseStyle}">License Model:</Label>
                <TextBlock x:Name="_licenseModel" Grid.Column="1" FontStyle="Italic" VerticalAlignment="Center"  Style="{DynamicResource awsTextBlockBaseStyle}"/>

                <Border Grid.Column="3"
                        Grid.RowSpan="3"
                        Margin="8,-30,0,30"
                        BorderBrush="Black" BorderThickness="2"
                        Background="White">
                    <Image x:Name="_logo"
                       Width="100"
                       Height="66"
                       HorizontalAlignment="Right"
                       VerticalAlignment="Center"
                       />
                </Border>

                <Label Grid.Row="1" Target="{Binding ElementName=_dbEngineVersions}" Style="{DynamicResource awsLabelBaseStyle}">DB Engine _Version:</Label>
                <toolkitcomponents:ListViewComboBox VerticalAlignment="Center" 
                                                    x:Name="_dbEngineVersions" 
                                                    Grid.Row="1" 
                                                    Grid.Column="1" 
                                                    SelectionChanged="_dbEngineVersions_SelectionChanged"
                                                    DisplayMemberPath="FormattedEngineVersionAndDescription"
                                                    ItemContainerStyle="{DynamicResource awsListViewItemContainerStyle}"
                                                    AlternationCount="2"
                                                    >
                    <GridViewColumn Header="Version" DisplayMemberBinding="{Binding EngineVersion.EngineVersion}" />
                    <GridViewColumn Header="Description" DisplayMemberBinding="{Binding EngineVersion.DBEngineVersionDescription}" />
                </toolkitcomponents:ListViewComboBox>

                <Label Grid.Row="2" Target="{Binding ElementName=_instanceClass}" Style="{DynamicResource awsLabelBaseStyle}">DB Instance _Class:</Label>
                <toolkitcomponents:ListViewComboBox Grid.Row="2" 
                                                    Grid.Column="1" 
                                                    x:Name="_instanceClass" 
                                                    VerticalAlignment="Center"
                                                    HorizontalAlignment="Stretch"
                                                    DisplayMemberPath="Id"
                                                    ItemContainerStyle="{DynamicResource awsListViewItemContainerStyle}"
                                                    AlternationCount="2"
                                                    SelectionChanged="_instanceClass_SelectionChanged" 
                                                    >
                    <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Id}" />
                    <GridViewColumn Header="vCPU" DisplayMemberBinding="{Binding NumberOfVirtualCores}" />
                    <GridViewColumn Header="Memory" DisplayMemberBinding="{Binding MemoryWithUnits}" />
                    <GridViewColumn Header="I/O Capacity" DisplayMemberBinding="{Binding IOCapacity}" />
                </toolkitcomponents:ListViewComboBox>

                <CheckBox x:Name="_btnMultiAZDeployment"
                          Grid.Row="3"
                          Grid.Column="1"
                          Grid.ColumnSpan="2"
                          IsChecked="True"
                          Margin="0,4"
                          Style="{DynamicResource awsCheckboxButtonBaseStyle}">
                    Perform a multi A_Z deployment
                </CheckBox>
                
                <CheckBox x:Name="_btnAutoUpgradeMinorVersions"
                          Grid.Row="4"
                          Grid.Column="1"
                          Grid.ColumnSpan="2"
                          IsChecked="True"
                          Margin="0,4"
                          Style="{DynamicResource awsCheckboxButtonBaseStyle}">
                    _Upgrade minor versions automatically
                </CheckBox>
            </Grid>
        </Grid>

        <Grid Grid.Row="1" HorizontalAlignment="Stretch">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            
            <Label Style="{DynamicResource awsWizardGroupHeaderStyle}"
                               Margin="0,4,0,0"
                               >
                RDS Database Instance
            </Label>
            
            <Grid Grid.Row="1" Margin="16, 4,4,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>                
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <Label Style="{DynamicResource awsLabelBaseStyle}">Allocated _Storage:</Label>
                <StackPanel Grid.Column="1" Grid.ColumnSpan="2">
                    <StackPanel Orientation="Horizontal">
                        <TextBox x:Name="_allocatedStorage" 
                                 Width="80"
                                 Margin="4,0,0,0" 
                                 HorizontalContentAlignment="Right"
                                 PreviewTextInput="_allocatedStorage_PreviewTextInput"
                                 TextChanged="_allocatedStorage_TextChanged"
                                 Style="{DynamicResource awsTextBoxStyle}"/>
                        <TextBlock Margin="4,0" VerticalAlignment="Center" Style="{DynamicResource awsTextBlockBaseStyle}" Foreground="{DynamicResource awsDefaultControlForegroundBrushKey}">
                            GB
                        </TextBlock>
                        <TextBlock Margin="8,0,4,0" 
                                   x:Name="_lblStorageLimits"
                                   VerticalAlignment="Center"
                                   Style="{DynamicResource awsFieldHintTextStyle}">(Minimum: {0} GB, Maximum {1} GB)</TextBlock>
                    </StackPanel>
                </StackPanel>

                <Label Grid.Row="1" Target="{Binding ElementName=_txtInstanceIdentifier}" Style="{DynamicResource awsLabelBaseStyle}">DB Instance _Identifier*:</Label>
                <StackPanel Orientation="Horizontal" Grid.Row="1" Grid.Column="1">
                    <TextBox x:Name="_txtInstanceIdentifier" 
                             Width="200" 
                             Margin="4,0,0,0" 
                             TextChanged="_txtInstanceIdentifier_TextChanged"
                             Style="{DynamicResource awsTextBoxStyle}"
                             />
                    <TextBlock Margin="8,0,0,0" 
                               x:Name="_instanceIdValidationMsg"
                               Foreground="Red" 
                               VerticalAlignment="Center" 
                               FontStyle="Italic"
                              />
                </StackPanel>

                <Label Grid.Row="2" Target="{Binding ElementName=_txtMasterUserName}" Style="{DynamicResource awsLabelBaseStyle}">Master User _Name*:</Label>
                <StackPanel Orientation="Horizontal" Grid.Row="2" Grid.Column="1">
                    <TextBox x:Name="_txtMasterUserName" 
                             Margin="4,0,0,0" 
                             Width="200" 
                             TextChanged="_txtMasterUserName_TextChanged"
                             Style="{DynamicResource awsTextBoxStyle}"/>
                    <TextBlock Margin="8,0,0,0" 
                               x:Name="_userNameValidationMsg"
                               Foreground="Red" 
                               VerticalAlignment="Center"
                               FontStyle="Italic"
                               />
                </StackPanel>

                <Label Grid.Row="3" Target="{Binding ElementName=_txtMasterUserPassword}" Style="{DynamicResource awsLabelBaseStyle}">Master User _Password*:</Label>
                <StackPanel Orientation="Horizontal" Grid.Row="3" Grid.Column="1">
                    <PasswordBox x:Name="_txtMasterUserPassword" 
                                 VerticalAlignment="Center" 
                                 Width="200" 
                                 Margin="4,0,0,0" 
                                 PasswordChanged="OnPasswordFieldsChanged"
                                 Style="{DynamicResource awsPasswordBoxStyle}"/>
                    <TextBlock Margin="8,0,0,0" 
                               x:Name="_passwordRequirementMsg"
                               Foreground="Red" 
                               FontStyle="Italic"
                               VerticalAlignment="Center"
                               />
                </StackPanel>

                <Label Grid.Row="4" Target="{Binding ElementName=_txtPasswordConfirmation}" Style="{DynamicResource awsLabelBaseStyle}">Confirm Pass_word*:</Label>
                <StackPanel Orientation="Horizontal" Grid.Row="4" Grid.Column="1">
                    <PasswordBox x:Name="_txtPasswordConfirmation" 
                                 Margin="4,0,0,0" 
                                 VerticalAlignment="Center" 
                                 Width="200" 
                                 PasswordChanged="OnPasswordFieldsChanged"
                                 Style="{DynamicResource awsPasswordBoxStyle}"/>
                    <TextBlock Margin="8,0,0,0" 
                               x:Name="_passwordConfirmationMsg"
                               Foreground="Red" 
                               FontStyle="Italic"
                               VerticalAlignment="Center"
                               />
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</commonui:BaseAWSUserControl>
