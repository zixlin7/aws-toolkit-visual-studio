<UserControl x:Class="Amazon.AWSToolkit.Publish.Views.Properties.ListTypeControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:themes="clr-namespace:Amazon.AWSToolkit.Themes;assembly=AWSToolkit"
             themes:ToolkitThemes.UseToolkitTheme="True"
             mc:Ignorable="d"
             d:DesignWidth="400">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source=".\PropertyEditors.xaml"></ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <DockPanel LastChildFill="True">
        <StackPanel 
            DockPanel.Dock="Bottom"
            Orientation="Vertical">
            <TextBlock 
                Margin="0 6 0 0"
                TextWrapping="Wrap"
                Visibility="{Binding HasErrors, Converter={StaticResource BooleanToVisibilityConverter}}"
                Foreground="{DynamicResource {x:Static themes:ToolkitThemes.ErrorBorderBrushKey}}"
                Text="{Binding ValidationMessage}"
            />        
            <Button
                Content="Edit" 
                ToolTip="Modify the selected items list"
                Command="{Binding EditCommand}"
                HorizontalAlignment="Left"
                Margin="0 6 0 0" />
        </StackPanel>

            <!-- todo : Replace the "6 8 6 8" padding with a centralized resource key by
            moving ThemeResourceKeys::InputPaddingKey to the more generally 
            accessible ToolkitThemeResourceKeys -->
        <Border
            BorderBrush="{DynamicResource {x:Static themes:ToolkitThemes.ToolTipBorderBrushKey}}"
            BorderThickness="1"
            Padding="6 8 6 8">
            <ItemsControl ItemsSource="{Binding SelectedItems}"
                DisplayMemberPath="DisplayName"
                IsEnabled="False">
                <ItemsControl.Style>
                    <Style 
                        TargetType="ItemsControl"
                        BasedOn="{StaticResource {x:Type ItemsControl}}">
                        <Style.Triggers>
                            <Trigger Property="HasItems" Value="False">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate>
                                            <TextBlock>No items selected.</TextBlock>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </ItemsControl.Style>
            </ItemsControl>
        </Border>
    </DockPanel>
</UserControl>
