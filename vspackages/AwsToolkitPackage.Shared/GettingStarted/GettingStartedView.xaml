<commonUi:BaseAWSControl
    x:Class="Amazon.AWSToolkit.VisualStudio.GettingStarted.GettingStartedView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Amazon.AWSToolkit.VisualStudio.GettingStarted"
    xmlns:commonUi="clr-namespace:Amazon.AWSToolkit.CommonUI;assembly=AWSToolkit"
    xmlns:profiles="clr-namespace:Amazon.AWSToolkit.CommonUI.CredentialProfiles;assembly=AWSToolkit"
    xmlns:themes="clr-namespace:Amazon.AWSToolkit.Themes;assembly=AWSToolkit"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:images="clr-namespace:Amazon.AWSToolkit.CommonUI.Images;assembly=AWSToolkit"
    themes:ToolkitThemes.UseToolkitTheme="True"
    d:DesignHeight="600"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <commonUi:BaseAWSUserControl.Resources>
        <ResourceDictionary>
            <commonUi:ToolkitImages x:Key="ToolkitImages" />
            <commonUi:VsImages x:Key="VsImages" />
        </ResourceDictionary>
    </commonUi:BaseAWSUserControl.Resources>

    <ScrollViewer>
        <Grid Margin="12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" MaxWidth="600" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <StackPanel
                Orientation="Horizontal"
                Grid.Row="0"
                Grid.ColumnSpan="2"
                Grid.Column="0">

                <images:VsImage
                    Source="{Binding Source={StaticResource ToolkitImages}, Path=Aws}"
                    Width="64"
                    Height="64"
                    Margin="3"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Left" />

                <TextBlock
                    Margin="12 0 0 0"
                    FontSize="{DynamicResource {x:Static themes:ToolkitThemes.Heading1FontSizeKey}}"
                    Text="Getting Started with the AWS Toolkit"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Left" />

            </StackPanel>

            <commonUi:CardControl Grid.Row="1"
                                  Grid.Column="0"
                                  SelectedValue="{Binding ActiveCard}"
                                  SelectedValuePath="Name">
                <!-- Names on items below is for CardControl selection, not access in code-behind -->
                <profiles:CredentialProfileForm
                    x:Name="AddProfileCard"
                    x:FieldModifier="private"
                    DataContext="{Binding CredentialProfileFormViewModel}" />
                <StackPanel
                    x:Name="GettingStartedCard"
                    x:FieldModifier="private">
                    <commonUi:StatusBox
                        Status="{Binding Status}">
                        <Grid Margin="12">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <WrapPanel Grid.Row="0" Grid.Column="0">
                              <images:VsImage Height="16"
                                       Width="16"
                                       VerticalAlignment="Center">
                                    <images:VsImage.Style>
                                        <Style TargetType="{x:Type images:VsImage}">
                                            <Setter Property="Source"
                                                    Value="{Binding Source={StaticResource VsImages}, Path=StatusOK}" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Status}" Value="False">
                                                    <Setter Property="Source"
                                                            Value="{Binding Source={StaticResource VsImages}, Path=StatusError}" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </images:VsImage.Style>
                                </images:VsImage>

                                <TextBlock
                                    Margin="3 0 0 0"
                                    FontSize="{DynamicResource {x:Static themes:ToolkitThemes.Heading4FontSizeKey}}">
                                    <TextBlock.Text>
                                        <MultiBinding StringFormat="{}Connected to {0}: {1}">
                                            <Binding Path="CredentialTypeName" FallbackValue="(not available)" />
                                            <Binding Path="CredentialName" FallbackValue="(not available)" />
                                        </MultiBinding>
                                    </TextBlock.Text>
                                </TextBlock>
                            </WrapPanel>

                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Foreground="{DynamicResource {x:Static themes:ToolkitThemes.SuccessTextBrushKey}}"
                                Text="Open the AWS Explorer to add and switch between additional profiles." />

                            <Button
                                Grid.Row="0"
                                Grid.RowSpan="2"
                                Grid.Column="2"
                                Command="{Binding OpenAwsExplorerAsyncCommand}"
                                Content="Open AWS Explorer" />

                        </Grid>
                    </commonUi:StatusBox>

                    <Border BorderThickness="1" Margin="0 12 0 0">
                        <StackPanel Margin="12">
                            <CheckBox
                                Margin="6 0 0 0"
                                IsChecked="{Binding CollectAnalytics}"
                                VerticalContentAlignment="Top">
                                <TextBlock Margin="6 0 0 0"
                                           TextWrapping="Wrap"
                                           FontSize="{DynamicResource {x:Static themes:ToolkitThemes.Heading4FontSizeKey}}"
                                           Text="Allow AWS Toolkit to collect usage information" />
                            </CheckBox>

                            <TextBlock
                                Margin="6 3 0 0"
                                TextWrapping="WrapWithOverflow">
                                <Run
                                    Text="By letting us know which Toolkit features are used, this data helps improve the AWS Toolkit and other Amazon products and services. AWS handles this data in accordance with the" />
                                <Hyperlink
                                    Command="{Binding OpenPrivacyPolicyCommand}">
                                    AWS Privacy Policy.
                                </Hyperlink>
                                <Run Text=" When available, an AWS Account ID is associated with this information." />
                            </TextBlock>
                        </StackPanel>
                    </Border>

                    <Grid Margin="15 30 0  0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <TextBlock
                            Grid.Row="0"
                            FontWeight="SemiBold"
                            FontSize="{DynamicResource {x:Static themes:ToolkitThemes.Heading3FontSizeKey}}"
                            Text="Documentation and Tutorials" />

                        <FlowDocumentScrollViewer
                            Grid.Row="1"
                            VerticalScrollBarVisibility="Auto"
                            Margin="-20,0,4,0">
                            <FlowDocument
                                Style="{DynamicResource {x:Static themes:ToolkitThemeResourceKeys.FlowDocumentStyle}}">
                                <List>
                                    <ListItem>
                                        <Paragraph>
                                            <commonUi:HyperlinkText
                                                HorizontalAlignment="Center"
                                                OpenUrlCommand="{Binding OpenUsingToolkitDocsCommand}"
                                                LinkText="Using the Toolkit for Visual Studio" />
                                        </Paragraph>
                                    </ListItem>
                                    <ListItem Margin="0 6 0 0">
                                        <Paragraph>
                                            <commonUi:HyperlinkText
                                                HorizontalAlignment="Center"
                                                OpenUrlCommand="{Binding OpenDeployLambdaDocsCommand}"
                                                LinkText="Deploying C# Functions to AWS Lambda" />
                                        </Paragraph>
                                    </ListItem>
                                    <ListItem Margin="0 6 0 0">
                                        <Paragraph>
                                            <commonUi:HyperlinkText
                                                HorizontalAlignment="Center"
                                                OpenUrlCommand="{Binding OpenDeployBeanstalkDocsCommand}"
                                                LinkText="Deploying .NET Applications on AWS Elastic Beanstalk" />
                                        </Paragraph>
                                    </ListItem>
                                    <ListItem Margin="0 6  0 0">
                                        <Paragraph>
                                            <commonUi:HyperlinkText
                                                HorizontalAlignment="Center"
                                                OpenUrlCommand="{Binding OpenDevBlogCommand}"
                                                LinkText="AWS .NET Developer Blog" />
                                        </Paragraph>
                                    </ListItem>
                                </List>
                            </FlowDocument>
                        </FlowDocumentScrollViewer>
                    </Grid>
                </StackPanel>
            </commonUi:CardControl>
        </Grid>
    </ScrollViewer>
</commonUi:BaseAWSControl>
