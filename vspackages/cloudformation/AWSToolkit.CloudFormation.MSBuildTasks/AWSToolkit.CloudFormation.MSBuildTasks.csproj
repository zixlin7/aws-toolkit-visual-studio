<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net472</TargetFramework>
  </PropertyGroup>
  <PropertyGroup>
    <AssemblyTitle>AWSToolkit.CloudFormation.MSBuildTasks</AssemblyTitle>
    <RootNamespace>AWSToolkit.CloudFormation.MSBuildTasks</RootNamespace>
    <!-- 
      This project is installed into Visual Studio's all users space.
      It is used by Visual Studio in order to load the custom CloudFormation Project types.
      We need be able to package this into the VSIX with its full collection of dependencies, 
      otherwise Visual Studio will not be able to provide load and "compilation" feautures
      for CloudFormation projects.

      UseCommonOutputDirectory must be set to false so that we produce a folder containing the full fileset.

      vspackages\AwsToolkitPackage.Shared\ProjectReferences\CloudFormationProjectBundling.xml then handles
      packaging from this project's output folder into the VSIX.
    -->
    <UseCommonOutputDirectory>false</UseCommonOutputDirectory>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="Microsoft.Build.Framework" />
    <Reference Include="Microsoft.Build.Utilities.v4.0" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="$(BuildRoot)\vspackages\cloudformation\AWSToolkit.CloudFormation.Parser\AWSToolkit.CloudFormation.Parser.csproj" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="cloudformation.targets">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
  </ItemGroup>
</Project>
